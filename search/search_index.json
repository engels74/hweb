{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#welcome","title":"Welcome","text":"<p>This is a fork of hotio's official website, repurposed to document my collection of Docker containers:</p> <ul> <li>Revived containers \u2014 forks of hotio's deprecated projects, like qflood</li> <li>Modified containers \u2014 forks of hotio's images with personal additions, such as Caddy, qBittorrent with built-in themes, and SABnzbd with ffmpeg</li> <li>Original projects \u2014 documentation for my own dockerized software (obzorarr, tgraph-bot, etc)</li> </ul> <p>All images come with Docker CLI and Compose examples.</p> <p>If you have any questions, feel free to open an issue on the relevant GitHub repository.</p>"},{"location":"#donations","title":"Donations","text":"<p>Show some (monetary) love for hotio - he definitely deserves it! </p> <p> GitHub Sponsors  Open Collective  Bitcoin</p>"},{"location":"#affiliate-links","title":"Affiliate Links","text":"<p>If you need a VPN, you can use hotio's affiliate links:</p> <p> </p>"},{"location":"#support","title":"Support","text":"<p>For support, please create an issue on the GitHub repository for the specific container you need help with.</p>"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#faq","title":"FAQ","text":"<p>The FAQ content is maintained on hotio.dev and shared across all hotio-based images.</p> <p>If you were not automatically redirected, please visit hotio.dev/faq.</p> <p>Why redirect?</p> <p>The FAQ content is maintained by hotio and is shared across all hotio-based images. To avoid duplication and ensure you always have the most up-to-date information, we redirect to the original source.</p> <p>Quick Links</p> <ul> <li>Docker Troubleshooting</li> <li>Permissions Issues</li> <li>VPN Configuration</li> </ul>"},{"location":"containers/base-image/","title":"engels74/base-image","text":"<p> GitHub ghcr.io</p> <p>What is this?</p> <p>This is a fork of Hotio's Docker image. It's used for my other Docker images. It's basically the same as Hotio's except that it's tailored to my containers.</p>"},{"location":"containers/base-image/#starting-the-container","title":"Starting the container","text":"clicompose <pre><code>docker run --rm \\\n    --name base-image \\\n    -e PUID=1000 \\\n    -e PGID=1000 \\\n    -e UMASK=002 \\\n    -e TZ=\"Etc/UTC\" \\\n    -v /&lt;host_folder_config&gt;:/config \\\n    ghcr.io/engels74/base-image:alpinevpn\n</code></pre> <pre><code>services:\n  base-image:\n    container_name: base-image\n    image: ghcr.io/engels74/base-image:alpinevpn\n    environment:\n      - PUID=1000\n      - PGID=1000\n      - UMASK=002\n      - TZ=Etc/UTC\n    volumes:\n      - /&lt;host_folder_config&gt;:/config\n</code></pre> <p>This image is the base-image image for all other application images, however it can be used as a standalone VPN image for other images to attach to.</p>"},{"location":"containers/base-image/#tags","title":"Tags","text":"Tags Description Last Updated Age"},{"location":"containers/base-image/#wireguard","title":"WireGuard","text":"<p>Info</p> <p>This image includes VPN support. The cli/compose examples below are environment variables and settings complementary to the app image examples, this means you'll have to add/merge the stuff below with the stuff above. Don't forget to click the <code>+</code> symbol. In case you are still in need of a VPN, consider using my affiliate links for Proton VPN, Proton Unlimited or Private Internet Access.</p> <p> </p> genericprotonpia clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"generic\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"false\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=generic #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=false #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"proton\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=proton #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"pia\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e VPN_PIA_USER=\"\" \\ #(11)\n    -e VPN_PIA_PASS=\"\" \\ #(11)\n    -e VPN_PIA_PREFERRED_REGION=\"\" \\ #(7)\n    -e VPN_PIA_DIP_TOKEN=\"\" \\ #(13)\n    -e VPN_PIA_PORT_FORWARD_PERSIST=\"false\" \\ #(14)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=pia #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - VPN_PIA_USER #(11)\n      - VPN_PIA_PASS #(11)\n      - VPN_PIA_PREFERRED_REGION #(7)\n      - VPN_PIA_DIP_TOKEN #(13)\n      - VPN_PIA_PORT_FORWARD_PERSIST=false #(14)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol>"},{"location":"containers/caddy/","title":"engels74/caddy","text":"<p> GitHub ghcr.io</p> <p>What is this?</p> <p>A Docker image with Caddy 2 including DNS modules for Cloudflare, Njalla, and rate limiting. The default configuration restricts access to private IP ranges only.</p>"},{"location":"containers/caddy/#starting-the-container","title":"Starting the container","text":"clicompose <pre><code>docker run --rm \\\n    --name caddy \\\n    -p 80:8080 \\\n    -p 443:8443 \\\n    -e PUID=1000 \\\n    -e PGID=1000 \\\n    -e UMASK=002 \\\n    -e TZ=\"Etc/UTC\" \\\n    -e CUSTOM_BUILD=\"\" \\\n    -v /&lt;host_folder_config&gt;:/config \\\n    ghcr.io/engels74/caddy\n</code></pre> <pre><code>services:\n  caddy:\n    container_name: caddy\n    image: ghcr.io/engels74/caddy\n    ports:\n      - \"80:8080\"\n      - \"443:8443\"\n    environment:\n      - PUID=1000\n      - PGID=1000\n      - UMASK=002\n      - TZ=Etc/UTC\n      - CUSTOM_BUILD\n    volumes:\n      - /&lt;host_folder_config&gt;:/config\n</code></pre>"},{"location":"containers/caddy/#tags","title":"Tags","text":"Tags Description Last Updated Age"},{"location":"containers/caddy/#custom-build","title":"Custom build","text":"<p>If you set the environment variable <code>CUSTOM_BUILD</code> to a file location like for example <code>/config/caddy_linux_amd64_custom</code>, an attempt is made to start Caddy with that binary. The custom build can be obtained from the Caddy download page. This is particularly useful if you need extra modules.</p>"},{"location":"containers/caddy/#wireguard","title":"WireGuard","text":"<p>Info</p> <p>This image includes VPN support. The cli/compose examples below are environment variables and settings complementary to the app image examples, this means you'll have to add/merge the stuff below with the stuff above. Don't forget to click the <code>+</code> symbol. In case you are still in need of a VPN, consider using my affiliate links for Proton VPN, Proton Unlimited or Private Internet Access.</p> <p> </p> genericprotonpia clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"generic\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"false\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=generic #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=false #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"proton\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=proton #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"pia\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e VPN_PIA_USER=\"\" \\ #(11)\n    -e VPN_PIA_PASS=\"\" \\ #(11)\n    -e VPN_PIA_PREFERRED_REGION=\"\" \\ #(7)\n    -e VPN_PIA_DIP_TOKEN=\"\" \\ #(13)\n    -e VPN_PIA_PORT_FORWARD_PERSIST=\"false\" \\ #(14)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=pia #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - VPN_PIA_USER #(11)\n      - VPN_PIA_PASS #(11)\n      - VPN_PIA_PREFERRED_REGION #(7)\n      - VPN_PIA_DIP_TOKEN #(13)\n      - VPN_PIA_PORT_FORWARD_PERSIST=false #(14)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol>"},{"location":"containers/obzorarr/","title":"engels74/obzorarr","text":"<p> GitHub ghcr.io</p> <p>What is this?</p> <p>Obzorarr is a \"Plex Wrapped\" application that syncs viewing history from your Plex Media Server and generates yearly statistics with an animated slideshow presentation - similar to Spotify Wrapped. It doesn't require Tautulli; it only relies on the Plex API.</p> <p>Branches and Tags</p> <p>This project maintains multiple branches, each with its own Docker tag:</p> <ul> <li> <p><code>:release</code> (or <code>:latest</code>):   Stable releases built from tagged versions of the obzorarr repository.</p> </li> <li> <p><code>:nightly</code>:   Built from every commit to the main branch, providing the latest development features.</p> </li> <li> <p><code>:pr</code>:   Built from the <code>pr</code> branch. This tag is used for testing pull request changes and experimental builds before they are merged into the main codebase.</p> </li> </ul>"},{"location":"containers/obzorarr/#starting-the-container","title":"Starting the container","text":"clicompose <pre><code>docker run --rm \\\n    --name obzorarr \\\n    -p 3000:3000 \\\n    -e PUID=1000 \\\n    -e PGID=1000 \\\n    -e UMASK=002 \\\n    -e TZ=\"Etc/UTC\" \\\n    -v /&lt;host_folder_config&gt;:/config \\\n    ghcr.io/engels74/obzorarr-docker\n</code></pre> <pre><code>services:\n  obzorarr:\n    container_name: obzorarr\n    image: ghcr.io/engels74/obzorarr-docker\n    ports:\n      - \"3000:3000\"\n    environment:\n      - PUID=1000\n      - PGID=1000\n      - UMASK=002\n      - TZ=Etc/UTC\n    volumes:\n      - /&lt;host_folder_config&gt;:/config\n</code></pre>"},{"location":"containers/obzorarr/#tags","title":"Tags","text":"Tags Description Last Updated Age"},{"location":"containers/obzorarr/#wireguard","title":"WireGuard","text":"<p>Info</p> <p>This image includes VPN support. The cli/compose examples below are environment variables and settings complementary to the app image examples, this means you'll have to add/merge the stuff below with the stuff above. Don't forget to click the <code>+</code> symbol. In case you are still in need of a VPN, consider using my affiliate links for Proton VPN, Proton Unlimited or Private Internet Access.</p> <p> </p> genericprotonpia clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"generic\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"false\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=generic #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=false #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"proton\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=proton #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"pia\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e VPN_PIA_USER=\"\" \\ #(11)\n    -e VPN_PIA_PASS=\"\" \\ #(11)\n    -e VPN_PIA_PREFERRED_REGION=\"\" \\ #(7)\n    -e VPN_PIA_DIP_TOKEN=\"\" \\ #(13)\n    -e VPN_PIA_PORT_FORWARD_PERSIST=\"false\" \\ #(14)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=pia #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - VPN_PIA_USER #(11)\n      - VPN_PIA_PASS #(11)\n      - VPN_PIA_PREFERRED_REGION #(7)\n      - VPN_PIA_DIP_TOKEN #(13)\n      - VPN_PIA_PORT_FORWARD_PERSIST=false #(14)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol>"},{"location":"containers/overseerr-anime/","title":"engels74/overseerr-anime","text":"<p> GitHub ghcr.io</p> <p>What is this?</p> <p>This is a fork of Hotio's overseerr Docker image, that includes the Anime Instance PR (#3664).</p> <p>It's built using this fork of the PR.</p> <p>Branches and Tags</p> <p>This project maintains two branches, each with its own Docker tag:</p> <ul> <li><code>:release</code> (or <code>:latest</code>):   Based on the <code>feature-default-anime-instance-checkbox-release</code> branch.   This is the stable version, rebased from the <code>sct/overseerr</code> repository's <code>master</code> branch (official releases) with the anime instance support changes applied.</li> </ul> Why is this needed? <p>This was made since Overseerr maintainers are very busy, and it probably won't get merged in the near future.</p>"},{"location":"containers/overseerr-anime/#starting-the-container","title":"Starting the container","text":"clicompose <pre><code>docker run --rm \\\n    --name overseerr-anime \\\n    -p 5055:5055 \\\n    -e PUID=1000 \\\n    -e PGID=1000 \\\n    -e UMASK=002 \\\n    -e TZ=\"Etc/UTC\" \\\n    -e WEBUI_PORTS=\"5055/tcp,5055/udp\" \\\n    -v /&lt;host_folder_config&gt;:/config \\\n    ghcr.io/engels74/overseerr-anime\n</code></pre> <pre><code>services:\n  overseerr-anime:\n    container_name: overseerr-anime\n    image: ghcr.io/engels74/overseerr-anime\n    ports:\n      - \"5055:5055\"\n    environment:\n      - PUID=1000\n      - PGID=1000\n      - UMASK=002\n      - TZ=Etc/UTC\n      - WEBUI_PORTS=5055/tcp,5055/udp\n    volumes:\n      - /&lt;host_folder_config&gt;:/config\n</code></pre>"},{"location":"containers/overseerr-anime/#tags","title":"Tags","text":"Tags Description Last Updated Age"},{"location":"containers/overseerr-anime/#wireguard","title":"WireGuard","text":"<p>Info</p> <p>This image includes VPN support. The cli/compose examples below are environment variables and settings complementary to the app image examples, this means you'll have to add/merge the stuff below with the stuff above. Don't forget to click the <code>+</code> symbol. In case you are still in need of a VPN, consider using my affiliate links for Proton VPN, Proton Unlimited or Private Internet Access.</p> <p> </p> genericprotonpia clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"generic\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"false\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=generic #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=false #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"proton\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=proton #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"pia\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e VPN_PIA_USER=\"\" \\ #(11)\n    -e VPN_PIA_PASS=\"\" \\ #(11)\n    -e VPN_PIA_PREFERRED_REGION=\"\" \\ #(7)\n    -e VPN_PIA_DIP_TOKEN=\"\" \\ #(13)\n    -e VPN_PIA_PORT_FORWARD_PERSIST=\"false\" \\ #(14)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=pia #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - VPN_PIA_USER #(11)\n      - VPN_PIA_PASS #(11)\n      - VPN_PIA_PREFERRED_REGION #(7)\n      - VPN_PIA_DIP_TOKEN #(13)\n      - VPN_PIA_PORT_FORWARD_PERSIST=false #(14)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol>"},{"location":"containers/qbittorrent/","title":"engels74/qbittorrent","text":"<p> GitHub ghcr.io</p> <p>What is this?</p> <p>This is a fork of Hotio's qBittorrent Docker image, that uses libtorrent v2.x by default.</p> <p>Hotio recently added the option to define by ENV if you want to use libtorrent v1 or v2. This one uses <code>v2</code> by default.</p> <p>This also still includes VueTorrent in the image, as hotio also removed support for themes.</p>"},{"location":"containers/qbittorrent/#starting-the-container","title":"Starting the container","text":"clicompose <pre><code>docker run --rm \\\n    --name qbittorrent \\\n    -p 8080:8080 \\\n    -e PUID=1000 \\\n    -e PGID=1000 \\\n    -e UMASK=002 \\\n    -e TZ=\"Etc/UTC\" \\\n    -e WEBUI_PORTS=\"8080/tcp,8080/udp\" \\\n    -e LIBTORRENT=\"v2\" \\\n    -v /&lt;host_folder_config&gt;:/config \\\n    -v /&lt;host_folder_data&gt;:/data \\\n    ghcr.io/engels74/qbittorrent\n</code></pre> <pre><code>services:\n  qbittorrent:\n    container_name: qbittorrent\n    image: ghcr.io/engels74/qbittorrent\n    ports:\n      - \"8080:8080\"\n    environment:\n      - PUID=1000\n      - PGID=1000\n      - UMASK=002\n      - TZ=Etc/UTC\n      - WEBUI_PORTS=8080/tcp,8080/udp\n      - LIBTORRENT=v2\n    volumes:\n      - /&lt;host_folder_config&gt;:/config\n      - /&lt;host_folder_data&gt;:/data\n</code></pre>"},{"location":"containers/qbittorrent/#tags","title":"Tags","text":"Tags Description Last Updated Age"},{"location":"containers/qbittorrent/#alternative-web-ui","title":"Alternative Web UI","text":"<p>This image comes bundled with the alternative Web UI VueTorrent (<code>/app/vuetorrent</code>). Nightwalker is removed, as it is no longer maintained.</p>"},{"location":"containers/qbittorrent/#wireguard","title":"WireGuard","text":"<p>Info</p> <p>This image includes VPN support. The cli/compose examples below are environment variables and settings complementary to the app image examples, this means you'll have to add/merge the stuff below with the stuff above. Don't forget to click the <code>+</code> symbol. In case you are still in need of a VPN, consider using my affiliate links for Proton VPN, Proton Unlimited or Private Internet Access.</p> <p> </p> genericprotonpia clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"generic\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"false\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=generic #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=false #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"proton\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=proton #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"pia\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e VPN_PIA_USER=\"\" \\ #(11)\n    -e VPN_PIA_PASS=\"\" \\ #(11)\n    -e VPN_PIA_PREFERRED_REGION=\"\" \\ #(7)\n    -e VPN_PIA_DIP_TOKEN=\"\" \\ #(13)\n    -e VPN_PIA_PORT_FORWARD_PERSIST=\"false\" \\ #(14)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=pia #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - VPN_PIA_USER #(11)\n      - VPN_PIA_PASS #(11)\n      - VPN_PIA_PREFERRED_REGION #(7)\n      - VPN_PIA_DIP_TOKEN #(13)\n      - VPN_PIA_PORT_FORWARD_PERSIST=false #(14)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol>"},{"location":"containers/qflood/","title":"engels74/qflood","text":"<p> GitHub ghcr.io</p> <p>What is this?</p> <p>This is a fork of Hotio's rflood Docker image, that uses qBittorrent instead of rtorrent. The qflood image has both \"releases\" and \"nightly support\". The included qBittorrent uses libtorrent v2.x.</p> What is nightly? <p>Nightly means it updates automatically after a successful run of this workflow file. This means that whenever the official flood repository receives a push commit, this docker image should automatically be updated. All thanks to hotio's brilliant setup.</p>"},{"location":"containers/qflood/#starting-the-container","title":"Starting the container","text":"clicompose <pre><code>docker run --rm \\\n    --name qflood \\\n    -p 8080:8080 \\\n    -p 3000:3000 \\\n    -e PUID=1000 \\\n    -e PGID=1000 \\\n    -e UMASK=002 \\\n    -e TZ=\"Etc/UTC\" \\\n    -e LIBTORRENT=\"v2\" \\\n    -e FLOOD_AUTH=\"true\" \\\n    -e ARGS=\"\" \\\n    -e FLOOD_ARGS=\"\" \\\n    -v /&lt;host_folder_config&gt;:/config \\\n    -v /&lt;host_folder_data&gt;:/data \\\n    ghcr.io/engels74/qflood\n</code></pre> <pre><code>services:\n  qflood:\n    container_name: qflood\n    image: ghcr.io/engels74/qflood\n    ports:\n      - \"8080:8080\"\n      - \"3000:3000\"\n    environment:\n      - PUID=1000\n      - PGID=1000\n      - UMASK=002\n      - TZ=Etc/UTC\n      - LIBTORRENT=v2\n      - FLOOD_AUTH=true\n      - ARGS\n      - FLOOD_ARGS\n    volumes:\n      - /&lt;host_folder_config&gt;:/config\n      - /&lt;host_folder_data&gt;:/data\n</code></pre>"},{"location":"containers/qflood/#tags","title":"Tags","text":"Tags Description Last Updated Age"},{"location":"containers/qflood/#changing-the-webui-port","title":"Changing the WebUI port","text":"<p>Under certain circumstances it's required to run the WebUI on a different internal port, you can do that by modifying the environment variable <code>WEBUI_PORTS</code> accordingly. It should be in the format <code>xxxx/tcp,xxxx/udp</code>, take a look at the default with <code>docker logs</code> (variable is printed at container start) or <code>docker inspect</code>.</p>"},{"location":"containers/qflood/#wireguard","title":"WireGuard","text":"<p>Info</p> <p>This image includes VPN support. The cli/compose examples below are environment variables and settings complementary to the app image examples, this means you'll have to add/merge the stuff below with the stuff above. Don't forget to click the <code>+</code> symbol. In case you are still in need of a VPN, consider using my affiliate links for Proton VPN, Proton Unlimited or Private Internet Access.</p> <p> </p> genericprotonpia clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"generic\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"false\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=generic #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=false #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"proton\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=proton #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"pia\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e VPN_PIA_USER=\"\" \\ #(11)\n    -e VPN_PIA_PASS=\"\" \\ #(11)\n    -e VPN_PIA_PREFERRED_REGION=\"\" \\ #(7)\n    -e VPN_PIA_DIP_TOKEN=\"\" \\ #(13)\n    -e VPN_PIA_PORT_FORWARD_PERSIST=\"false\" \\ #(14)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=pia #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - VPN_PIA_USER #(11)\n      - VPN_PIA_PASS #(11)\n      - VPN_PIA_PREFERRED_REGION #(7)\n      - VPN_PIA_DIP_TOKEN #(13)\n      - VPN_PIA_PORT_FORWARD_PERSIST=false #(14)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol>"},{"location":"containers/sabnzbd/","title":"engels74/sabnzbd","text":"<p> GitHub ghcr.io</p> <p>What is this?</p> <p>This is a fork of Hotio's SABnzbd Docker image, that includes ffprobe, at <code>/app/bin/ffprobe</code>. Useful for scripts.</p>"},{"location":"containers/sabnzbd/#starting-the-container","title":"Starting the container","text":"clicompose <pre><code>docker run --rm \\\n    --name sabnzbd \\\n    -p 8080:8080 \\\n    -e PUID=1000 \\\n    -e PGID=1000 \\\n    -e UMASK=002 \\\n    -e WEBUI_PORTS=\"8080/tcp,8080/udp\" \\\n    -e ARGS=\"\" \\\n    -e TZ=\"Etc/UTC\" \\\n    -v /&lt;host_folder_config&gt;:/config \\\n    -v /&lt;host_folder_data&gt;:/data \\\n    ghcr.io/engels74/sabnzbd\n</code></pre> <pre><code>services:\n  sabnzbd:\n    container_name: sabnzbd\n    image: ghcr.io/engels74/sabnzbd\n    ports:\n      - \"8080:8080\"\n    environment:\n      - PUID=1000\n      - PGID=1000\n      - UMASK=002\n      - TZ=Etc/UTC\n      - WEBUI_PORTS=8080/tcp,8080/udp\n      - ARGS\n    volumes:\n      - /&lt;host_folder_config&gt;:/config\n      - /&lt;host_folder_data&gt;:/data\n</code></pre>"},{"location":"containers/sabnzbd/#tags","title":"Tags","text":"Tags Description Last Updated Age"},{"location":"containers/sabnzbd/#wireguard","title":"WireGuard","text":"<p>Info</p> <p>This image includes VPN support. The cli/compose examples below are environment variables and settings complementary to the app image examples, this means you'll have to add/merge the stuff below with the stuff above. Don't forget to click the <code>+</code> symbol. In case you are still in need of a VPN, consider using my affiliate links for Proton VPN, Proton Unlimited or Private Internet Access.</p> <p> </p> genericprotonpia clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"generic\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"false\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=generic #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=false #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"proton\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=proton #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"pia\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e VPN_PIA_USER=\"\" \\ #(11)\n    -e VPN_PIA_PASS=\"\" \\ #(11)\n    -e VPN_PIA_PREFERRED_REGION=\"\" \\ #(7)\n    -e VPN_PIA_DIP_TOKEN=\"\" \\ #(13)\n    -e VPN_PIA_PORT_FORWARD_PERSIST=\"false\" \\ #(14)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=pia #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - VPN_PIA_USER #(11)\n      - VPN_PIA_PASS #(11)\n      - VPN_PIA_PREFERRED_REGION #(7)\n      - VPN_PIA_DIP_TOKEN #(13)\n      - VPN_PIA_PORT_FORWARD_PERSIST=false #(14)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol>"},{"location":"containers/tgraph-bot/","title":"engels74/tgraph-bot","text":"<p> GitHub ghcr.io</p> <p>What is this?</p> <p>This is a Docker image for my tgraph-bot. It posts Tautulli graphs to a Discord channel of your choice, with many more features.</p>"},{"location":"containers/tgraph-bot/#starting-the-container","title":"Starting the container","text":"clicompose <pre><code>docker run --rm \\\n    --name tgraph-bot \\\n    -e PUID=1000 \\\n    -e PGID=1000 \\\n    -e UMASK=002 \\\n    -e TZ=\"Etc/UTC\" \\\n    -v /&lt;host_folder_config&gt;:/config \\\n    ghcr.io/engels74/tgraph-bot\n</code></pre> <pre><code>services:\n  tgraph-bot:\n    container_name: tgraph-bot\n    image: ghcr.io/engels74/tgraph-bot\n    environment:\n      - PUID=1000\n      - PGID=1000\n      - UMASK=002\n      - TZ=Etc/UTC\n    volumes:\n      - /&lt;host_folder_config&gt;:/config\n</code></pre>"},{"location":"containers/tgraph-bot/#tags","title":"Tags","text":"Tags Description Last Updated Age"},{"location":"containers/tgraph-bot/#wireguard","title":"WireGuard","text":"<p>Info</p> <p>This image includes VPN support. The cli/compose examples below are environment variables and settings complementary to the app image examples, this means you'll have to add/merge the stuff below with the stuff above. Don't forget to click the <code>+</code> symbol. In case you are still in need of a VPN, consider using my affiliate links for Proton VPN, Proton Unlimited or Private Internet Access.</p> <p> </p> genericprotonpia clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"generic\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"false\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=generic #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=false #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"proton\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=proton #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> clicompose <pre><code>docker run --rm \\\n    --hostname container-name.internal \\ #(18)\n    -e VPN_ENABLED=\"true\" \\ #(5)\n    -e VPN_CONF=\"wg0\" \\ #(8)\n    -e VPN_PROVIDER=\"pia\" \\ #(4)\n    -e VPN_LAN_NETWORK=\"192.168.1.0/24\" \\ #(1)\n    -e VPN_LAN_LEAK_ENABLED=\"false\" \\ #(10)\n    -e VPN_EXPOSE_PORTS_ON_LAN=\"\" \\ #(2)\n    -e VPN_AUTO_PORT_FORWARD=\"true\" \\ #(6)\n    -e VPN_PORT_REDIRECTS=\"\" \\ #(15)\n    -e VPN_HEALTHCHECK_ENABLED=\"false\" \\ #(20)\n    -e VPN_NAMESERVERS=\"\" \\ #(16)\n    -e VPN_PIA_USER=\"\" \\ #(11)\n    -e VPN_PIA_PASS=\"\" \\ #(11)\n    -e VPN_PIA_PREFERRED_REGION=\"\" \\ #(7)\n    -e VPN_PIA_DIP_TOKEN=\"\" \\ #(13)\n    -e VPN_PIA_PORT_FORWARD_PERSIST=\"false\" \\ #(14)\n    -e PRIVOXY_ENABLED=\"false\" \\ #(19)\n    -e UNBOUND_ENABLED=\"false\" \\ #(21)\n    -e UNBOUND_NAMESERVERS=\"\" \\ #(22)\n    --cap-add=NET_ADMIN \\\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol> <pre><code>services:\n  app:\n    hostname: container-name.internal #(18)\n    environment:\n      - VPN_ENABLED=true #(5)\n      - VPN_CONF=wg0 #(8)\n      - VPN_PROVIDER=pia #(4)\n      - VPN_LAN_NETWORK=192.168.1.0/24 #(1)\n      - VPN_LAN_LEAK_ENABLED=false #(10)\n      - VPN_EXPOSE_PORTS_ON_LAN #(2)\n      - VPN_AUTO_PORT_FORWARD=true #(6)\n      - VPN_PORT_REDIRECTS= #(15)\n      - VPN_HEALTHCHECK_ENABLED=false #(20)\n      - VPN_NAMESERVERS= #(16)\n      - VPN_PIA_USER #(11)\n      - VPN_PIA_PASS #(11)\n      - VPN_PIA_PREFERRED_REGION #(7)\n      - VPN_PIA_DIP_TOKEN #(13)\n      - VPN_PIA_PORT_FORWARD_PERSIST=false #(14)\n      - PRIVOXY_ENABLED=false #(19)\n      - UNBOUND_ENABLED=false #(21)\n      - UNBOUND_NAMESERVERS #(22)\n    cap_add:\n      - NET_ADMIN\n    ...\n</code></pre> <ol> <li> <p>The environment variable <code>VPN_LAN_NETWORK</code> can be set to for example <code>192.168.1.0/24</code>, <code>192.168.1.0/24,192.168.44.0/24</code> or <code>192.168.1.33</code>, so you can get access to the webui or other additional ports (see below). If for example you were to pick <code>192.168.0.0/24</code>, every device with an ip in the range <code>192.168.0.0 - 192.168.0.255</code> on your LAN is allowed access to the webui. On MacOS set it to <code>192.168.65.0/24</code> (Verify with your settings [Resources &gt; Network &gt; Docker subnet]). Do not add the docker bridge networks in this variable!</p> </li> <li> <p>If you need to expose ports on your LAN you can use <code>VPN_EXPOSE_PORTS_ON_LAN</code>. For example <code>VPN_EXPOSE_PORTS_ON_LAN=7878/tcp,9117/tcp</code>, will block those ports on the vpn interface, so that there's no risk that they might be exposed to the world and allow access to them from your LAN. Most images also have a <code>WEBUI_PORTS</code> environment variable that does basically the same thing already pre-filled with the default ports. Use <code>WEBUI_PORTS</code> if you need to change those defaults. The variable <code>VPN_EXPOSE_PORTS_ON_LAN</code> is mostly for extra ports, likely used when routing additional containers through this container's VPN connection.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Possible values are <code>generic</code>, <code>proton</code> and <code>pia</code>. Affiliate links: Proton VPN Proton Unlimited Private Internet Access</p> </li> <li> <p>There needs to be a file <code>wg0.conf</code> (for PIA this is done automatically, see <code>VPN_PROVIDER</code> variable) located in <code>/config/wireguard</code> and you need to set the variable <code>VPN_ENABLED</code> to <code>true</code> for the VPN to start. If you'd like to execute some of your own bash scripts you can place the scripts alongside your <code>wg0.conf</code> file, called <code>wg0-pre.sh</code> (before vpn is up), <code>wg0-post.sh</code> (after vpn is up) or <code>wg0-port.sh</code> (after forwarded port change).</p> </li> <li> <p>Auto retrieve a forwarded port and configure the supported app if set to <code>true</code> and <code>VPN_PROVIDER=proton</code> or <code>VPN_PROVIDER=pia</code>. If you can manually request/set a forwarded port in the VPN provider's web interface, fill in the port number (just the number). If you set it to <code>true</code> and you've got <code>VPN_PROVIDER=generic</code>, you can manually create and manipulate the file <code>/config/wireguard/forwarded_port</code>. Useful website to check for open ports is YouGetSignal and ipleak.net to leak test with <code>.torrent</code> file.</p> </li> <li> <p>By default a random server is used, but if you prefer a certain region you can fill in the region id. A list of available regions can be found in <code>/config/wireguard</code> after the first start. If you're seeing an error message <code>shuf: getrandom: Function not implemented</code>, you can't let it pick one randomly and are forced to fill in a region id.</p> </li> <li> <p>With <code>VPN_CONF</code> you can set the name used for your WireGuard config.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>DANGEROUS! Don't enable unless you know what you are doing!</p> </li> <li> <p>When using <code>VPN_PROVIDER=pia</code>, fill in your username and password. A <code>wg0.conf</code> will be automatically downloaded.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>Fill in your DIP token here, if you've bought the dedicated ip option.</p> </li> <li> <p>If you'd like to keep using the same forwarded port until it expires, set this to <code>true</code>.</p> </li> <li> <p>Adds a redirect from the port before <code>@</code> to the port after, with <code>udp or tcp</code> after the <code>/</code>. Ports in this list are also exposed on the wireguard interface. Values like <code>32400/tcp</code> without the <code>@</code> will use the port from <code>VPN_AUTO_PORT_FORWARD</code> for the redirect or if set to <code>true</code> the forwarded port received from pia/proton (In more detail: it'll use the port from <code>/config/wireguard/forwarded_port</code> if <code>VPN_AUTO_PORT_FORWARD</code> is not set to <code>false</code>). Use <code>3000@3001/tcp,3002@3003/tcp</code> syntax for static redirects. If you do <code>6677@6677/tcp</code> (same port), a redirect won't be added, but it'll just expose the port. A known usecase as of right now is Plex and exposing it on the VPN (if you can't get 32400 from your VPN provider), because it's not possible to run Plex on anything else but 32400.</p> </li> <li> <p>Some of the possible values are for example <code>wg</code>, <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. The value <code>wg</code> will use the nameservers from the <code>wg0.conf</code> file. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> <li> <p>NOT USED</p> </li> <li> <p>If you want to use container hostnames to connect to other containers within a bridge network, you'll have to use <code>--hostname</code> and use <code>container-name.internal</code> or <code>container-name.vpn</code>. Currently <code>.vpn</code> is a non existing TLD, but that can change in the future. The TLD <code>.internal</code> should become the standard for internal networks, so it's the safest choice.</p> </li> <li> <p>This will start Privoxy on the default port 8118 when set to <code>true</code>. By default Privoxy is not exposed on the LAN, so if you need that, you'll have to add <code>VPN_EXPOSE_PORTS_ON_LAN=8118/tcp</code>.</p> </li> <li> <p>Enabling this will bring down the container if the connectivity tests fail at the end of the Wireguard init process or for an extended period during the container runtime.</p> </li> <li> <p>Enable Unbound by setting to <code>true</code> when VPN is not active.</p> </li> <li> <p>Some of the possible values are for example <code>8.8.8.8</code> or <code>1.1.1.1@853#cloudflare-dns.com</code> seperated by a <code>,</code>. A value in the format <code>8.8.8.8</code> is to use a plain old nameserver. A value in the format <code>1.1.1.1@853#cloudflare-dns.com</code> will add a <code>DNS over TLS</code> nameserver, this will override all other regular nameservers. Leaving the variable empty will allow Unbound to work in recursive mode.</p> </li> </ol>"}]}